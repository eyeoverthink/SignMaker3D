// Hershey Single-Stroke Font Data
// These fonts define letters as STROKE PATHS (like pen strokes), not filled outlines
// Perfect for neon sign generation where we need centerline paths

export interface HersheyGlyph {
  char: string;
  width: number;
  paths: number[][][]; // Array of paths, each path is array of [x, y] points
}

// Hershey Sans-Serif font - clean modern look for neon signs
// Coordinates are in a 21-unit grid, centered around 0
// Paths represent the actual stroke the "pen" would make

export const HERSHEY_SANS: Record<string, HersheyGlyph> = {
  'A': {
    char: 'A',
    width: 18,
    paths: [
      [[0, 21], [9, 0], [18, 21]], // Main A shape
      [[3, 14], [15, 14]] // Crossbar
    ]
  },
  'B': {
    char: 'B',
    width: 18,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 0], [11, 0], [14, 1], [16, 3], [17, 5], [17, 7], [16, 9], [14, 10], [11, 11], [0, 11]], // Top bowl
      [[0, 11], [11, 11], [14, 12], [16, 14], [17, 16], [17, 18], [16, 20], [14, 21], [0, 21]] // Bottom bowl
    ]
  },
  'C': {
    char: 'C',
    width: 18,
    paths: [
      [[17, 4], [15, 2], [13, 1], [10, 0], [7, 0], [4, 1], [2, 2], [1, 4], [0, 7], [0, 14], [1, 17], [2, 19], [4, 20], [7, 21], [10, 21], [13, 20], [15, 19], [17, 17]]
    ]
  },
  'D': {
    char: 'D',
    width: 18,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 0], [9, 0], [12, 1], [14, 3], [16, 6], [17, 10], [17, 11], [16, 15], [14, 18], [12, 20], [9, 21], [0, 21]]
    ]
  },
  'E': {
    char: 'E',
    width: 15,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 0], [15, 0]], // Top bar
      [[0, 11], [11, 11]], // Middle bar
      [[0, 21], [15, 21]] // Bottom bar
    ]
  },
  'F': {
    char: 'F',
    width: 14,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 0], [14, 0]], // Top bar
      [[0, 11], [10, 11]] // Middle bar
    ]
  },
  'G': {
    char: 'G',
    width: 19,
    paths: [
      [[17, 4], [15, 2], [13, 1], [10, 0], [7, 0], [4, 1], [2, 2], [1, 4], [0, 7], [0, 14], [1, 17], [2, 19], [4, 20], [7, 21], [10, 21], [13, 20], [15, 19], [17, 17], [17, 11], [12, 11]]
    ]
  },
  'H': {
    char: 'H',
    width: 18,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[18, 0], [18, 21]], // Right stem
      [[0, 11], [18, 11]] // Crossbar
    ]
  },
  'I': {
    char: 'I',
    width: 8,
    paths: [
      [[4, 0], [4, 21]] // Vertical stem
    ]
  },
  'J': {
    char: 'J',
    width: 13,
    paths: [
      [[13, 0], [13, 16], [12, 19], [10, 21], [7, 21], [5, 20], [3, 18], [2, 16]]
    ]
  },
  'K': {
    char: 'K',
    width: 17,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[17, 0], [0, 12]], // Upper diagonal
      [[6, 7], [17, 21]] // Lower diagonal
    ]
  },
  'L': {
    char: 'L',
    width: 14,
    paths: [
      [[0, 0], [0, 21], [14, 21]]
    ]
  },
  'M': {
    char: 'M',
    width: 20,
    paths: [
      [[0, 21], [0, 0], [10, 14], [20, 0], [20, 21]]
    ]
  },
  'N': {
    char: 'N',
    width: 18,
    paths: [
      [[0, 21], [0, 0], [18, 21], [18, 0]]
    ]
  },
  'O': {
    char: 'O',
    width: 20,
    paths: [
      [[10, 0], [7, 0], [4, 1], [2, 3], [1, 5], [0, 8], [0, 13], [1, 16], [2, 18], [4, 20], [7, 21], [10, 21], [13, 21], [16, 20], [18, 18], [19, 16], [20, 13], [20, 8], [19, 5], [18, 3], [16, 1], [13, 0], [10, 0]]
    ]
  },
  'P': {
    char: 'P',
    width: 17,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 0], [10, 0], [13, 1], [15, 3], [16, 5], [16, 8], [15, 10], [13, 12], [10, 13], [0, 13]]
    ]
  },
  'Q': {
    char: 'Q',
    width: 20,
    paths: [
      [[10, 0], [7, 0], [4, 1], [2, 3], [1, 5], [0, 8], [0, 13], [1, 16], [2, 18], [4, 20], [7, 21], [10, 21], [13, 21], [16, 20], [18, 18], [19, 16], [20, 13], [20, 8], [19, 5], [18, 3], [16, 1], [13, 0], [10, 0]],
      [[14, 17], [20, 24]] // Tail
    ]
  },
  'R': {
    char: 'R',
    width: 18,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 0], [10, 0], [13, 1], [15, 3], [16, 5], [16, 8], [15, 10], [13, 12], [10, 13], [0, 13]],
      [[9, 13], [18, 21]] // Leg
    ]
  },
  'S': {
    char: 'S',
    width: 17,
    paths: [
      [[15, 3], [13, 1], [10, 0], [7, 0], [4, 1], [2, 3], [2, 5], [3, 7], [5, 9], [8, 10], [12, 11], [14, 12], [15, 14], [15, 17], [14, 19], [12, 21], [8, 21], [5, 20], [3, 18]]
    ]
  },
  'T': {
    char: 'T',
    width: 16,
    paths: [
      [[8, 0], [8, 21]], // Vertical stem
      [[0, 0], [16, 0]] // Top bar
    ]
  },
  'U': {
    char: 'U',
    width: 18,
    paths: [
      [[0, 0], [0, 15], [1, 18], [3, 20], [6, 21], [12, 21], [15, 20], [17, 18], [18, 15], [18, 0]]
    ]
  },
  'V': {
    char: 'V',
    width: 18,
    paths: [
      [[0, 0], [9, 21], [18, 0]]
    ]
  },
  'W': {
    char: 'W',
    width: 24,
    paths: [
      [[0, 0], [5, 21], [12, 7], [19, 21], [24, 0]]
    ]
  },
  'X': {
    char: 'X',
    width: 17,
    paths: [
      [[0, 0], [17, 21]],
      [[17, 0], [0, 21]]
    ]
  },
  'Y': {
    char: 'Y',
    width: 16,
    paths: [
      [[0, 0], [8, 10], [16, 0]],
      [[8, 10], [8, 21]]
    ]
  },
  'Z': {
    char: 'Z',
    width: 17,
    paths: [
      [[0, 0], [17, 0], [0, 21], [17, 21]]
    ]
  },
  'a': {
    char: 'a',
    width: 15,
    paths: [
      [[13, 7], [13, 21]], // Right stem
      [[13, 10], [11, 8], [8, 7], [6, 7], [3, 8], [1, 10], [0, 13], [0, 15], [1, 18], [3, 20], [6, 21], [8, 21], [11, 20], [13, 18]]
    ]
  },
  'b': {
    char: 'b',
    width: 15,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 10], [2, 8], [5, 7], [7, 7], [10, 8], [12, 10], [13, 13], [13, 15], [12, 18], [10, 20], [7, 21], [5, 21], [2, 20], [0, 18]]
    ]
  },
  'c': {
    char: 'c',
    width: 13,
    paths: [
      [[13, 10], [11, 8], [8, 7], [6, 7], [3, 8], [1, 10], [0, 14], [1, 18], [3, 20], [6, 21], [8, 21], [11, 20], [13, 18]]
    ]
  },
  'd': {
    char: 'd',
    width: 15,
    paths: [
      [[15, 0], [15, 21]], // Right stem
      [[15, 10], [13, 8], [10, 7], [8, 7], [5, 8], [3, 10], [2, 13], [2, 15], [3, 18], [5, 20], [8, 21], [10, 21], [13, 20], [15, 18]]
    ]
  },
  'e': {
    char: 'e',
    width: 13,
    paths: [
      [[0, 13], [13, 13], [13, 11], [12, 9], [10, 8], [7, 7], [5, 7], [2, 8], [1, 10], [0, 13], [0, 15], [1, 18], [3, 20], [6, 21], [8, 21], [11, 20], [13, 18]]
    ]
  },
  'f': {
    char: 'f',
    width: 10,
    paths: [
      [[10, 2], [9, 1], [7, 0], [5, 0], [3, 1], [2, 4], [2, 21]],
      [[0, 7], [7, 7]] // Crossbar
    ]
  },
  'g': {
    char: 'g',
    width: 15,
    paths: [
      [[15, 7], [15, 25], [14, 28], [12, 29], [9, 29], [7, 28]], // Right stem with descender
      [[15, 10], [13, 8], [10, 7], [8, 7], [5, 8], [3, 10], [2, 13], [2, 15], [3, 18], [5, 20], [8, 21], [10, 21], [13, 20], [15, 18]]
    ]
  },
  'h': {
    char: 'h',
    width: 15,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[0, 11], [3, 8], [6, 7], [9, 7], [12, 8], [14, 11], [15, 15], [15, 21]]
    ]
  },
  'i': {
    char: 'i',
    width: 6,
    paths: [
      [[3, 7], [3, 21]], // Stem
      [[3, 2], [3, 3]] // Dot
    ]
  },
  'j': {
    char: 'j',
    width: 8,
    paths: [
      [[5, 7], [5, 25], [4, 28], [2, 29], [0, 29]], // Stem with descender
      [[5, 2], [5, 3]] // Dot
    ]
  },
  'k': {
    char: 'k',
    width: 14,
    paths: [
      [[0, 0], [0, 21]], // Left stem
      [[14, 7], [0, 15]], // Upper diagonal
      [[5, 13], [14, 21]] // Lower diagonal
    ]
  },
  'l': {
    char: 'l',
    width: 6,
    paths: [
      [[3, 0], [3, 21]]
    ]
  },
  'm': {
    char: 'm',
    width: 24,
    paths: [
      [[0, 7], [0, 21]], // Left stem
      [[0, 11], [3, 8], [6, 7], [8, 7], [11, 8], [12, 11], [12, 14]],
      [[12, 11], [15, 8], [18, 7], [20, 7], [23, 8], [24, 11], [24, 21]]
    ]
  },
  'n': {
    char: 'n',
    width: 15,
    paths: [
      [[0, 7], [0, 21]], // Left stem
      [[0, 11], [3, 8], [6, 7], [9, 7], [12, 8], [14, 11], [15, 15], [15, 21]]
    ]
  },
  'o': {
    char: 'o',
    width: 15,
    paths: [
      [[7, 7], [4, 7], [2, 9], [0, 12], [0, 16], [2, 19], [4, 21], [7, 21], [11, 21], [13, 19], [15, 16], [15, 12], [13, 9], [11, 7], [7, 7]]
    ]
  },
  'p': {
    char: 'p',
    width: 15,
    paths: [
      [[0, 7], [0, 29]], // Left stem with descender
      [[0, 10], [2, 8], [5, 7], [7, 7], [10, 8], [12, 10], [13, 13], [13, 15], [12, 18], [10, 20], [7, 21], [5, 21], [2, 20], [0, 18]]
    ]
  },
  'q': {
    char: 'q',
    width: 15,
    paths: [
      [[15, 7], [15, 29]], // Right stem with descender
      [[15, 10], [13, 8], [10, 7], [8, 7], [5, 8], [3, 10], [2, 13], [2, 15], [3, 18], [5, 20], [8, 21], [10, 21], [13, 20], [15, 18]]
    ]
  },
  'r': {
    char: 'r',
    width: 10,
    paths: [
      [[0, 7], [0, 21]], // Left stem
      [[0, 13], [1, 10], [3, 8], [6, 7], [10, 7]]
    ]
  },
  's': {
    char: 's',
    width: 12,
    paths: [
      [[12, 10], [10, 8], [7, 7], [5, 7], [2, 8], [1, 10], [2, 12], [4, 13], [8, 14], [10, 15], [11, 17], [11, 18], [10, 20], [7, 21], [5, 21], [2, 20], [0, 18]]
    ]
  },
  't': {
    char: 't',
    width: 10,
    paths: [
      [[3, 0], [3, 17], [4, 20], [6, 21], [8, 21], [10, 20]],
      [[0, 7], [8, 7]] // Crossbar
    ]
  },
  'u': {
    char: 'u',
    width: 15,
    paths: [
      [[0, 7], [0, 15], [1, 18], [3, 20], [6, 21], [9, 21], [12, 20], [15, 17]],
      [[15, 7], [15, 21]]
    ]
  },
  'v': {
    char: 'v',
    width: 14,
    paths: [
      [[0, 7], [7, 21], [14, 7]]
    ]
  },
  'w': {
    char: 'w',
    width: 20,
    paths: [
      [[0, 7], [4, 21], [10, 10], [16, 21], [20, 7]]
    ]
  },
  'x': {
    char: 'x',
    width: 14,
    paths: [
      [[0, 7], [14, 21]],
      [[14, 7], [0, 21]]
    ]
  },
  'y': {
    char: 'y',
    width: 14,
    paths: [
      [[0, 7], [7, 21]],
      [[14, 7], [7, 21], [4, 26], [2, 28], [0, 29]]
    ]
  },
  'z': {
    char: 'z',
    width: 14,
    paths: [
      [[0, 7], [14, 7], [0, 21], [14, 21]]
    ]
  },
  '0': {
    char: '0',
    width: 16,
    paths: [
      [[8, 0], [5, 0], [3, 1], [1, 4], [0, 8], [0, 13], [1, 17], [3, 20], [5, 21], [8, 21], [11, 21], [13, 20], [15, 17], [16, 13], [16, 8], [15, 4], [13, 1], [11, 0], [8, 0]]
    ]
  },
  '1': {
    char: '1',
    width: 10,
    paths: [
      [[2, 4], [5, 2], [8, 0], [8, 21]]
    ]
  },
  '2': {
    char: '2',
    width: 16,
    paths: [
      [[1, 5], [2, 3], [4, 1], [7, 0], [10, 0], [13, 1], [15, 3], [16, 6], [16, 8], [15, 11], [13, 14], [0, 21], [16, 21]]
    ]
  },
  '3': {
    char: '3',
    width: 16,
    paths: [
      [[1, 4], [3, 2], [6, 0], [10, 0], [13, 1], [15, 3], [15, 6], [14, 8], [11, 10], [7, 10]],
      [[11, 10], [14, 12], [16, 15], [16, 17], [15, 19], [13, 21], [9, 21], [5, 20], [2, 18], [0, 15]]
    ]
  },
  '4': {
    char: '4',
    width: 16,
    paths: [
      [[12, 0], [0, 14], [16, 14]],
      [[12, 0], [12, 21]]
    ]
  },
  '5': {
    char: '5',
    width: 16,
    paths: [
      [[14, 0], [2, 0], [1, 10], [4, 8], [7, 7], [10, 7], [13, 8], [15, 10], [16, 13], [16, 15], [15, 18], [13, 20], [10, 21], [6, 21], [3, 20], [1, 18]]
    ]
  },
  '6': {
    char: '6',
    width: 16,
    paths: [
      [[14, 3], [12, 1], [9, 0], [7, 0], [4, 1], [2, 4], [1, 8], [0, 13], [0, 15], [1, 18], [3, 20], [6, 21], [8, 21], [11, 20], [13, 18], [14, 15], [14, 13], [13, 10], [11, 8], [8, 7], [6, 7], [3, 8], [1, 10]]
    ]
  },
  '7': {
    char: '7',
    width: 16,
    paths: [
      [[0, 0], [16, 0], [6, 21]]
    ]
  },
  '8': {
    char: '8',
    width: 16,
    paths: [
      [[8, 0], [5, 0], [3, 1], [2, 3], [2, 5], [3, 7], [5, 9], [9, 11], [12, 13], [14, 15], [14, 18], [13, 20], [11, 21], [8, 21], [5, 21], [3, 20], [2, 18], [2, 15], [4, 13], [7, 11], [11, 9], [13, 7], [14, 5], [14, 3], [13, 1], [11, 0], [8, 0]]
    ]
  },
  '9': {
    char: '9',
    width: 16,
    paths: [
      [[2, 18], [4, 20], [7, 21], [9, 21], [12, 20], [14, 17], [15, 13], [16, 8], [16, 6], [15, 3], [13, 1], [10, 0], [8, 0], [5, 1], [3, 3], [2, 6], [2, 8], [3, 11], [5, 13], [8, 14], [10, 14], [13, 13], [15, 11]]
    ]
  },
  ' ': {
    char: ' ',
    width: 10,
    paths: []
  },
  '-': {
    char: '-',
    width: 12,
    paths: [
      [[1, 11], [11, 11]]
    ]
  },
  '.': {
    char: '.',
    width: 5,
    paths: [
      [[2, 20], [2, 21]]
    ]
  },
  ',': {
    char: ',',
    width: 5,
    paths: [
      [[2, 20], [2, 22], [1, 24]]
    ]
  },
  '!': {
    char: '!',
    width: 5,
    paths: [
      [[2, 0], [2, 14]],
      [[2, 19], [2, 21]]
    ]
  },
  '?': {
    char: '?',
    width: 14,
    paths: [
      [[1, 4], [2, 2], [5, 0], [9, 0], [12, 1], [13, 3], [13, 5], [12, 7], [10, 9], [7, 10], [7, 14]],
      [[7, 19], [7, 21]]
    ]
  },
  "'": {
    char: "'",
    width: 5,
    paths: [
      [[2, 0], [2, 6]]
    ]
  },
  '"': {
    char: '"',
    width: 10,
    paths: [
      [[2, 0], [2, 6]],
      [[8, 0], [8, 6]]
    ]
  },
  ':': {
    char: ':',
    width: 5,
    paths: [
      [[2, 7], [2, 8]],
      [[2, 19], [2, 21]]
    ]
  },
  ';': {
    char: ';',
    width: 5,
    paths: [
      [[2, 7], [2, 8]],
      [[2, 19], [2, 22], [1, 24]]
    ]
  },
  '&': {
    char: '&',
    width: 20,
    paths: [
      [[18, 14], [16, 16], [13, 17], [10, 17], [7, 16], [5, 14], [4, 11], [4, 9], [5, 6], [7, 4], [10, 3], [12, 3], [15, 4], [17, 6]],
      [[17, 6], [13, 11], [10, 14], [7, 16], [4, 18], [2, 20], [1, 21], [2, 21], [5, 21], [9, 20], [13, 17], [17, 13], [19, 10], [20, 7]]
    ]
  },
  '@': {
    char: '@',
    width: 24,
    paths: [
      [[17, 10], [16, 8], [14, 7], [11, 7], [9, 8], [8, 10], [8, 13], [9, 15], [11, 16], [14, 16], [16, 15], [17, 13], [17, 7], [18, 5], [20, 4], [22, 5], [23, 7], [24, 11], [24, 13], [23, 17], [21, 20], [18, 22], [14, 23], [10, 23], [6, 22], [3, 20], [1, 17], [0, 13], [0, 11], [1, 7], [3, 4], [6, 2], [10, 1], [14, 1], [17, 2]]
    ]
  },
  '#': {
    char: '#',
    width: 18,
    paths: [
      [[6, 0], [3, 21]],
      [[15, 0], [12, 21]],
      [[0, 7], [18, 7]],
      [[0, 14], [18, 14]]
    ]
  },
  '$': {
    char: '$',
    width: 16,
    paths: [
      [[8, -3], [8, 24]],
      [[14, 3], [12, 1], [9, 0], [7, 0], [4, 1], [2, 3], [2, 5], [3, 7], [5, 9], [8, 10], [12, 11], [14, 13], [14, 16], [13, 18], [11, 20], [8, 21], [6, 21], [3, 20], [1, 18]]
    ]
  },
  '%': {
    char: '%',
    width: 22,
    paths: [
      [[0, 21], [22, 0]],
      [[5, 0], [3, 1], [2, 3], [2, 5], [3, 7], [5, 8], [7, 7], [8, 5], [8, 3], [7, 1], [5, 0]],
      [[17, 13], [15, 14], [14, 16], [14, 18], [15, 20], [17, 21], [19, 20], [20, 18], [20, 16], [19, 14], [17, 13]]
    ]
  },
  '(': {
    char: '(',
    width: 10,
    paths: [
      [[8, -3], [5, 0], [3, 4], [2, 8], [2, 13], [3, 17], [5, 21], [8, 24]]
    ]
  },
  ')': {
    char: ')',
    width: 10,
    paths: [
      [[2, -3], [5, 0], [7, 4], [8, 8], [8, 13], [7, 17], [5, 21], [2, 24]]
    ]
  },
  '+': {
    char: '+',
    width: 18,
    paths: [
      [[9, 4], [9, 18]],
      [[2, 11], [16, 11]]
    ]
  },
  '=': {
    char: '=',
    width: 18,
    paths: [
      [[2, 8], [16, 8]],
      [[2, 14], [16, 14]]
    ]
  },
  '/': {
    char: '/',
    width: 14,
    paths: [
      [[0, 21], [14, 0]]
    ]
  },
  '\\': {
    char: '\\',
    width: 14,
    paths: [
      [[0, 0], [14, 21]]
    ]
  },
  '[': {
    char: '[',
    width: 8,
    paths: [
      [[6, -3], [2, -3], [2, 24], [6, 24]]
    ]
  },
  ']': {
    char: ']',
    width: 8,
    paths: [
      [[2, -3], [6, -3], [6, 24], [2, 24]]
    ]
  },
  '<': {
    char: '<',
    width: 16,
    paths: [
      [[14, 3], [2, 11], [14, 19]]
    ]
  },
  '>': {
    char: '>',
    width: 16,
    paths: [
      [[2, 3], [14, 11], [2, 19]]
    ]
  },
  '*': {
    char: '*',
    width: 12,
    paths: [
      [[6, 3], [6, 15]],
      [[1, 6], [11, 12]],
      [[11, 6], [1, 12]]
    ]
  },
  '_': {
    char: '_',
    width: 16,
    paths: [
      [[0, 24], [16, 24]]
    ]
  }
};

// Get stroke paths for a text string
export function getTextStrokePaths(
  text: string,
  fontSize: number = 50,
  letterSpacing: number = 5
): { paths: number[][][]; totalWidth: number; height: number } {
  const scale = fontSize / 21; // Hershey uses 21-unit height
  const allPaths: number[][][] = [];
  let currentX = 0;
  
  for (const char of text) {
    const glyph = HERSHEY_SANS[char] || HERSHEY_SANS[' '];
    
    for (const path of glyph.paths) {
      const scaledPath = path.map(([x, y]) => [
        (x * scale) + currentX,
        y * scale
      ]);
      allPaths.push(scaledPath);
    }
    
    currentX += (glyph.width * scale) + letterSpacing;
  }
  
  return {
    paths: allPaths,
    totalWidth: currentX - letterSpacing,
    height: 21 * scale
  };
}

// Interpolate along a path to get smooth points
export function interpolatePath(path: number[][], segmentLength: number = 2): number[][] {
  if (path.length < 2) return path;
  
  const result: number[][] = [path[0]];
  
  for (let i = 0; i < path.length - 1; i++) {
    const [x1, y1] = path[i];
    const [x2, y2] = path[i + 1];
    
    const dx = x2 - x1;
    const dy = y2 - y1;
    const dist = Math.sqrt(dx * dx + dy * dy);
    const numSegments = Math.ceil(dist / segmentLength);
    
    for (let j = 1; j <= numSegments; j++) {
      const t = j / numSegments;
      result.push([
        x1 + dx * t,
        y1 + dy * t
      ]);
    }
  }
  
  return result;
}
